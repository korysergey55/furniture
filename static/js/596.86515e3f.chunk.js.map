{"version":3,"file":"static/js/596.86515e3f.chunk.js","mappings":"iJACA,SAAgB,gBAAkB,gCAAgC,aAAe,6BAA6B,UAAY,0BAA0B,MAAQ,sBAAsB,YAAc,4BAA4B,YAAc,4BAA4B,WAAa,2BAA2B,MAAQ,uB,4ICmBtT,MA4EA,GA5EuBA,EAAAA,EAAAA,KAAS,KAC9B,MAAM,mBAAEC,IAAuBC,EAAAA,EAAAA,MACzB,eAAEC,IAAmBC,EAAAA,EAAAA,MACrBC,GAAWC,EAAAA,EAAAA,OAEVC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,CAAC,IACjCC,EAAOC,IAAYF,EAAAA,EAAAA,WAAU,IAC7BG,EAAeC,IAAoBJ,EAAAA,EAAAA,UAAS,IAsCnD,OAZAK,EAAAA,EAAAA,YAAU,KACJb,GACFO,GAAWO,EAAAA,EAAAA,IAAKZ,EAAea,WAAWf,IAC5C,GACC,CAACA,KAEJa,EAAAA,EAAAA,YAAU,KACJb,GA/BqBgB,WACzB,MAAMC,GAAUC,EAAAA,EAAAA,IAAIC,EAAAA,EAAQ,qCAADC,OAAuCpB,KAClEqB,EAAAA,EAAAA,IAAQJ,GACLK,MAAKC,IACJA,EAAIC,SAASC,SAAQC,QAIrBH,EAAII,MAAMF,SAAQG,KAEhBC,EAAAA,EAAAA,KAAeX,EAAAA,EAAAA,IAAIC,EAAAA,EAASS,EAAQE,UAAUC,QAC3CT,MAAKU,IACJpB,GAAiBqB,GAAQ,IAAIA,EAAM,CAAEC,IAAKF,KAAO,IAElDG,OAAMC,IACL,MAAM,IAAIC,MAAMD,EAAM,GACtB,GACJ,IAEHD,OAAMC,IACL,MAAM,IAAIC,MAAMD,EAAM,GACtB,EAWFE,EACF,GACC,KAGDC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOC,gBAAgBC,SAAA,EACrCJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOG,UAAUD,SAAA,EAC/BJ,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAOI,aAAcC,QAASA,IAAM1C,EAAS,cAAcuC,SAAA,CAAC,aAC9DrC,EAAQyC,SAErBR,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOO,cAAcL,SAAA,EACnCM,EAAAA,EAAAA,KAAA,MAAIT,UAAWC,EAAOS,MAAMP,SAAS,OAAPrC,QAAO,IAAPA,OAAO,EAAPA,EAAS6C,eACvCF,EAAAA,EAAAA,KAAA,KAAGT,UAAWC,EAAOW,YAAYT,SAAS,OAAPrC,QAAO,IAAPA,OAAO,EAAPA,EAAS4C,YAE9CD,EAAAA,EAAAA,KAAA,MAAIT,UAAWC,EAAOY,YAAYV,SAC/BhC,EAAc2C,OAAS,GACtB3C,EAAc4C,KAAI,CAACC,EAAM/C,KACvBwC,EAAAA,EAAAA,KAAA,MAAIT,UAAWC,EAAOgB,WAA2BX,QAASA,IAAMpC,EAASD,GAAOkC,UAC9EM,EAAAA,EAAAA,KAAA,OAAKT,UAAWC,EAAOiB,MAAOxB,IAAKsB,EAAKtB,IAAKyB,IAAKrD,EAAQ6C,YAAc,YADnCS,EAAAA,EAAAA,cAO/CX,EAAAA,EAAAA,KAACY,EAAAA,GAAQ,CACPpD,MAAOA,EACPqD,KAAMrD,GAAS,EACfsD,MAAOA,IAAMrD,GAAU,GACvBsD,OAAQ,IAAIrD,GACZsD,QAAS,CAACC,EAAAA,EAAUC,EAAAA,EAAYC,EAAAA,EAAWC,EAAAA,EAAOC,EAAAA,OAEhD,G","sources":["webpack://furniture/./src/Pages/ProductDetails/styles.module.scss?9268","Pages/ProductDetails/ProductDetails.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"product_details\":\"styles_product_details__ndcjH\",\"product_path\":\"styles_product_path__5wu2y\",\"container\":\"styles_container__k1pKH\",\"title\":\"styles_title__ihLa4\",\"discription\":\"styles_discription__bRmc5\",\"images_list\":\"styles_images_list__MKFl4\",\"image_item\":\"styles_image_item__Gl2BL\",\"image\":\"styles_image__b8XQk\"};","import React, { useEffect, useState } from 'react';\r\nimport styles from './styles.module.scss';\r\n\r\nimport { observer } from 'mobx-react';\r\nimport { useStore } from '../../storeMobx';\r\nimport { toJS } from 'mobx';\r\n\r\nimport { ref, getDownloadURL, listAll } from 'firebase/storage';\r\nimport { storage } from '../../Firabase/firabase';\r\n\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport Lightbox from 'yet-another-react-lightbox';\r\nimport Captions from 'yet-another-react-lightbox/plugins/captions';\r\nimport Fullscreen from 'yet-another-react-lightbox/plugins/fullscreen';\r\nimport Slideshow from 'yet-another-react-lightbox/plugins/slideshow';\r\nimport Video from 'yet-another-react-lightbox/plugins/video';\r\nimport Zoom from 'yet-another-react-lightbox/plugins/zoom';\r\n\r\nconst ProductDetails = observer(() => {\r\n  const { productDetailsName } = useParams();\r\n  const { PartfolioStore } = useStore();\r\n  const navigate = useNavigate();\r\n\r\n  const [product, setProduct] = useState({});\r\n  const [index, setIndex] = useState(-1);\r\n  const [storageImages, setStorageImages] = useState([]);\r\n\r\n  const getFirestoreImages = async () => {\r\n    const listRef = ref(storage, `gs://vitaly-furniture.appspot.com/${productDetailsName}`);\r\n    listAll(listRef)\r\n      .then(res => {\r\n        res.prefixes.forEach(folderRef => {\r\n          // All the prefixes under listRef.\r\n          // You may call listAll() recursively on them.\r\n        });\r\n        res.items.forEach(itemRef => {\r\n          // All the items under listRef.\r\n          getDownloadURL(ref(storage, itemRef._location.path_))\r\n            .then(url => {\r\n              setStorageImages(prev => [...prev, { src: url }]);\r\n            })\r\n            .catch(error => {\r\n              throw new Error(error);\r\n            });\r\n        });\r\n      })\r\n      .catch(error => {\r\n        throw new Error(error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (productDetailsName) {\r\n      setProduct(toJS(PartfolioStore.getProduct(productDetailsName)));\r\n    }\r\n  }, [productDetailsName]);\r\n\r\n  useEffect(() => {\r\n    if (productDetailsName) {\r\n      getFirestoreImages();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.product_details}>\r\n      <div className={styles.container}>\r\n        <h2 className={styles.product_path} onClick={() => navigate('/portfolio')}>\r\n          Portfolio-{product.path}\r\n        </h2>\r\n        <div className={styles.title_vripper}>\r\n          <h2 className={styles.title}>{product?.productName}</h2>\r\n          <p className={styles.discription}>{product?.title}</p>\r\n        </div>\r\n        <ul className={styles.images_list}>\r\n          {storageImages.length > 0 &&\r\n            storageImages.map((item, index) => (\r\n              <li className={styles.image_item} key={uuidv4()} onClick={() => setIndex(index)}>\r\n                <img className={styles.image} src={item.src} alt={product.productName + 'image'} />\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </div>\r\n\r\n      <Lightbox\r\n        index={index}\r\n        open={index >= 0}\r\n        close={() => setIndex(-1)}\r\n        slides={[...storageImages]}\r\n        plugins={[Captions, Fullscreen, Slideshow, Video, Zoom]}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ProductDetails;\r\n"],"names":["observer","productDetailsName","useParams","PartfolioStore","useStore","navigate","useNavigate","product","setProduct","useState","index","setIndex","storageImages","setStorageImages","useEffect","toJS","getProduct","async","listRef","ref","storage","concat","listAll","then","res","prefixes","forEach","folderRef","items","itemRef","getDownloadURL","_location","path_","url","prev","src","catch","error","Error","getFirestoreImages","_jsxs","className","styles","product_details","children","container","product_path","onClick","path","title_vripper","_jsx","title","productName","discription","images_list","length","map","item","image_item","image","alt","uuidv4","Lightbox","open","close","slides","plugins","Captions","Fullscreen","Slideshow","Video","Zoom"],"sourceRoot":""}