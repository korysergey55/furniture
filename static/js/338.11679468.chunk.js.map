{"version":3,"file":"static/js/338.11679468.chunk.js","mappings":"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","sources":["../node_modules/uuid/dist/esm-browser/native.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","../node_modules/yet-another-react-lightbox/dist/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/captions/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/video/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js","../node_modules/yet-another-react-lightbox/dist/types.js"],"sourcesContent":["const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","'use client';\nimport * as React from 'react';\nimport { IMAGE_FIT_COVER, IMAGE_FIT_CONTAIN, ACTION_CLOSE, MODULE_CONTROLLER, UNKNOWN_ACTION_TYPE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_CANCEL, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_WHEEL, SLIDE_STATUS_LOADING, activeSlideStatus, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_PLACEHOLDER, ACTION_PREV, ACTION_NEXT, ACTION_SWIPE, MODULE_PORTAL, CLASS_FLEX_CENTER, MODULE_CAROUSEL, CLASS_SLIDE_WRAPPER, VK_ARROW_RIGHT, VK_ARROW_LEFT, VK_ESCAPE, MODULE_NAVIGATION, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, MODULE_NO_SCROLL, MODULE_ROOT, MODULE_TOOLBAR } from './types.js';\nimport { createPortal } from 'react-dom';\nexport { ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FULLSIZE, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_PLAYING } from './types.js';\n\nconst cssPrefix$3 = \"yarl__\";\nfunction clsx(...classes) {\n    return [...classes].filter(Boolean).join(\" \");\n}\nfunction cssClass(name) {\n    return `${cssPrefix$3}${name}`;\n}\nfunction cssVar(name) {\n    return `--${cssPrefix$3}${name}`;\n}\nfunction composePrefix(base, prefix) {\n    return `${base}${prefix ? `_${prefix}` : \"\"}`;\n}\nfunction makeComposePrefix(base) {\n    return (prefix) => composePrefix(base, prefix);\n}\nfunction label(labels, defaultLabel) {\n    var _a;\n    return (_a = labels === null || labels === void 0 ? void 0 : labels[defaultLabel]) !== null && _a !== void 0 ? _a : defaultLabel;\n}\nfunction cleanup(...cleaners) {\n    return () => {\n        cleaners.forEach((cleaner) => {\n            cleaner();\n        });\n    };\n}\nfunction makeUseContext(name, contextName, context) {\n    return () => {\n        const ctx = React.useContext(context);\n        if (!ctx) {\n            throw new Error(`${name} must be used within a ${contextName}.Provider`);\n        }\n        return ctx;\n    };\n}\nfunction hasWindow() {\n    return typeof window !== \"undefined\";\n}\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction isImageSlide(slide) {\n    return slide.type === undefined || slide.type === \"image\";\n}\nfunction isImageFitCover(image, imageFit) {\n    return image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\n}\nfunction parseInt(value) {\n    return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return { pixel: input };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input);\n        return input.endsWith(\"%\") ? { percent: value } : { pixel: value };\n    }\n    return { pixel: 0 };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? (containerRect.width / 100) * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0),\n    };\n}\nfunction devicePixelRatio() {\n    return (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\n}\nfunction getSlideIndex(index, slidesCount) {\n    return slidesCount > 0 ? ((index % slidesCount) + slidesCount) % slidesCount : 0;\n}\nfunction hasSlides(slides) {\n    return slides.length > 0;\n}\nfunction getSlide(slides, index) {\n    return slides[getSlideIndex(index, slides.length)];\n}\nfunction getSlideIfPresent(slides, index) {\n    return hasSlides(slides) ? getSlide(slides, index) : undefined;\n}\nfunction getSlideKey(slide) {\n    return isImageSlide(slide) ? slide.src : undefined;\n}\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button)\n        return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item) => item === key);\n    const buttonWithKey = React.isValidElement(button) ? React.cloneElement(button, { key }, null) : button;\n    if (index >= 0) {\n        const result = [...buttons];\n        result.splice(index, 1, buttonWithKey);\n        return { buttons: result, ...restToolbar };\n    }\n    return { buttons: [buttonWithKey, ...buttons], ...restToolbar };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event) => {\n        event.stopPropagation();\n    };\n    return { onPointerDown: stopPropagation, onKeyDown: stopPropagation, onWheel: stopPropagation };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\n\nconst LightboxDefaultProps = {\n    open: false,\n    close: () => { },\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: { buttons: [ACTION_CLOSE] },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\",\n        },\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: IMAGE_FIT_CONTAIN,\n        imageProps: {},\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullUp: false,\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n        preventDefaultWheelX: true,\n        preventDefaultWheelY: false,\n    },\n    portal: {},\n    noScroll: {\n        disabled: false,\n    },\n    on: {},\n    styles: {},\n    className: \"\",\n};\n\nfunction createModule(name, component) {\n    return { name, component };\n}\nfunction createNode(module, children) {\n    return { module, children };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n) => { var _a; return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : []; })),\n        ];\n    }\n    return [node];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node) => { var _a; return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : []; });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target) => {\n        const nodes = [...config];\n        while (nodes.length > 0) {\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target)\n                return true;\n            if (node === null || node === void 0 ? void 0 : node.children)\n                nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module) => {\n        if (target === \"\") {\n            config = [createNode(module, config)];\n            return;\n        }\n        config = traverse(config, target, (node) => [createNode(module, [node])]);\n    };\n    const append = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(node.module, [createNode(module, node.children)])]);\n    };\n    const addChild = (target, module, precede) => {\n        config = traverse(config, target, (node) => {\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...(precede ? [createNode(module)] : []),\n                    ...((_a = node.children) !== null && _a !== void 0 ? _a : []),\n                    ...(!precede ? [createNode(module)] : []),\n                ]),\n            ];\n        });\n    };\n    const addSibling = (target, module, precede) => {\n        config = traverse(config, target, (node) => [\n            ...(precede ? [createNode(module)] : []),\n            node,\n            ...(!precede ? [createNode(module)] : []),\n        ]);\n    };\n    const addModule = (module) => {\n        append(MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(module, node.children)]);\n    };\n    const remove = (target) => {\n        config = traverse(config, target, (node) => node.children);\n    };\n    const augment = (augmentation) => {\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin) => {\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment,\n        });\n    });\n    return {\n        config,\n        augmentation: (props) => augmentations.reduce((acc, augmentation) => augmentation(acc), props),\n    };\n}\n\nconst EventsContext = React.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = React.useState({});\n    React.useEffect(() => () => {\n        Object.keys(subscriptions).forEach((topic) => delete subscriptions[topic]);\n    }, [subscriptions]);\n    const context = React.useMemo(() => {\n        const unsubscribe = (topic, callback) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter((cb) => cb !== callback));\n        };\n        const subscribe = (topic, callback) => {\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return () => unsubscribe(topic, callback);\n        };\n        const publish = (...[topic, event]) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback) => callback(event));\n        };\n        return { publish, subscribe, unsubscribe };\n    }, [subscriptions]);\n    return React.createElement(EventsContext.Provider, { value: context }, children);\n}\n\nconst LightboxPropsContext = React.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return React.createElement(LightboxPropsContext.Provider, { value: props }, children);\n}\n\nconst LightboxStateContext = React.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = React.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"swipe\": {\n            const { slides } = state;\n            const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n            const globalIndex = state.globalIndex + increment;\n            const currentIndex = getSlideIndex(globalIndex, slides.length);\n            const currentSlide = getSlideIfPresent(slides, currentIndex);\n            const animation = increment || action.duration\n                ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing,\n                }\n                : undefined;\n            return { slides, currentIndex, globalIndex, currentSlide, animation };\n        }\n        case \"update\":\n            if (action.slides !== state.slides || action.index !== state.currentIndex) {\n                return {\n                    slides: action.slides,\n                    currentIndex: action.index,\n                    globalIndex: action.index,\n                    currentSlide: getSlideIfPresent(action.slides, action.index),\n                };\n            }\n            return state;\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = React.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index),\n    });\n    React.useEffect(() => {\n        dispatch({ type: \"update\", slides, index });\n    }, [slides, index]);\n    const context = React.useMemo(() => ({ ...state, state, dispatch }), [state, dispatch]);\n    return (React.createElement(LightboxDispatchContext.Provider, { value: dispatch },\n        React.createElement(LightboxStateContext.Provider, { value: context }, children)));\n}\n\nconst TimeoutsContext = React.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = React.useState([]);\n    React.useEffect(() => () => {\n        timeouts.forEach((tid) => window.clearTimeout(tid));\n        timeouts.splice(0, timeouts.length);\n    }, [timeouts]);\n    const context = React.useMemo(() => {\n        const removeTimeout = (id) => {\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid) => tid !== id));\n        };\n        const setTimeout = (fn, delay) => {\n            const id = window.setTimeout(() => {\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id) => {\n            if (id !== undefined) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return { setTimeout, clearTimeout };\n    }, [timeouts]);\n    return React.createElement(TimeoutsContext.Provider, { value: context }, children);\n}\n\nconst IconButton = React.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", \"aria-label\": label(labels, label$1), className: clsx(cssClass(ELEMENT_BUTTON), className), onClick: onClick, style: { ...style, ...styles.button }, ...rest }, renderIcon ? renderIcon() : React.createElement(Icon, { className: cssClass(ELEMENT_ICON), style: styles.icon })));\n});\n\nfunction svgIcon(name, children) {\n    const icon = (props) => (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", \"aria-hidden\": \"true\", focusable: \"false\", ...props }, children));\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, React.createElement(\"g\", { fill: \"currentColor\" },\n        React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n        glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, React.createElement(React.Fragment, null,\n        React.createElement(\"defs\", null,\n            React.createElement(\"mask\", { id: \"strike\" },\n                React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"white\" }),\n                React.createElement(\"path\", { d: \"M0 0L24 24\", stroke: \"black\", strokeWidth: 4 }))),\n        React.createElement(\"path\", { d: \"M0.70707 2.121320L21.878680 23.292883\", stroke: \"currentColor\", strokeWidth: 2 }),\n        React.createElement(\"g\", { fill: \"currentColor\", mask: \"url(#strike)\" },\n            React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n            glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", React.createElement(\"path\", { d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" }));\nconst PreviousIcon = createIcon(\"Previous\", React.createElement(\"path\", { d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\" }));\nconst NextIcon = createIcon(\"Next\", React.createElement(\"path\", { d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\" }));\nconst LoadingIcon = createIcon(\"Loading\", React.createElement(React.Fragment, null, Array.from({ length: 8 }).map((_, index, array) => (React.createElement(\"line\", { key: index, x1: \"12\", y1: \"6.5\", x2: \"12\", y2: \"1.8\", strokeLinecap: \"round\", strokeWidth: \"2.6\", stroke: \"currentColor\", strokeOpacity: (1 / array.length) * (index + 1), transform: `rotate(${(360 / array.length) * index}, 12, 12)` })))));\nconst ErrorIcon = createIcon(\"Error\", React.createElement(\"path\", { d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\" }));\n\nconst useLayoutEffect = hasWindow() ? React.useLayoutEffect : React.useEffect;\n\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = React.useState(false);\n    React.useEffect(() => {\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event) => setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return () => { var _a; return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener); };\n    }, []);\n    return reduceMotion;\n}\n\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map(parseInt);\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        }\n        else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return { x, y, z };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = React.useRef();\n    const animation = React.useRef();\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect(() => {\n        var _a, _b, _c;\n        if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n            const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n            if (keyframes && duration) {\n                (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                animation.current = undefined;\n                try {\n                    animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, { duration, easing });\n                }\n                catch (err) {\n                    console.error(err);\n                }\n                if (animation.current) {\n                    animation.current.onfinish = () => {\n                        animation.current = undefined;\n                        onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                    };\n                }\n            }\n        }\n        snapshot.current = undefined;\n    });\n    return {\n        prepareAnimation: (currentSnapshot) => {\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: () => { var _a; return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\"; },\n    };\n}\n\nfunction useContainerRect() {\n    const containerRef = React.useRef(null);\n    const observerRef = React.useRef();\n    const [containerRect, setContainerRect] = React.useState();\n    const setContainerRef = React.useCallback((node) => {\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = () => {\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value) => parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom)),\n                });\n            }\n            else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return { setContainerRef, containerRef, containerRect };\n}\n\nfunction useDelay() {\n    const timeoutId = React.useRef();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return React.useCallback((callback, delay) => {\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n    }, [setTimeout, clearTimeout]);\n}\n\nfunction useEventCallback(fn) {\n    const ref = React.useRef(fn);\n    useLayoutEffect(() => {\n        ref.current = fn;\n    });\n    return React.useCallback((...args) => { var _a; return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args); }, []);\n}\n\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return React.useMemo(() => refA == null && refB == null\n        ? null\n        : (refValue) => {\n            setRef(refA, refValue);\n            setRef(refB, refValue);\n        }, [refA, refB]);\n}\n\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = React.useRef();\n    useLayoutEffect(() => {\n        if (disabled && focused.current) {\n            focused.current = false;\n            focus();\n        }\n    }, [disabled, focus]);\n    const onFocus = React.useCallback(() => {\n        focused.current = true;\n    }, []);\n    const onBlur = React.useCallback(() => {\n        focused.current = false;\n    }, []);\n    return { onFocus, onBlur };\n}\n\nfunction useRTL() {\n    const [isRTL, setIsRTL] = React.useState(false);\n    useLayoutEffect(() => {\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n}\n\nfunction useSensors() {\n    const [subscribers] = React.useState({});\n    const notifySubscribers = React.useCallback((type, event) => {\n        var _a;\n        (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener) => {\n            if (!event.isPropagationStopped())\n                listener(event);\n        });\n    }, [subscribers]);\n    const registerSensors = React.useMemo(() => ({\n        onPointerDown: (event) => notifySubscribers(EVENT_ON_POINTER_DOWN, event),\n        onPointerMove: (event) => notifySubscribers(EVENT_ON_POINTER_MOVE, event),\n        onPointerUp: (event) => notifySubscribers(EVENT_ON_POINTER_UP, event),\n        onPointerLeave: (event) => notifySubscribers(EVENT_ON_POINTER_LEAVE, event),\n        onPointerCancel: (event) => notifySubscribers(EVENT_ON_POINTER_CANCEL, event),\n        onKeyDown: (event) => notifySubscribers(EVENT_ON_KEY_DOWN, event),\n        onKeyUp: (event) => notifySubscribers(EVENT_ON_KEY_UP, event),\n        onWheel: (event) => notifySubscribers(EVENT_ON_WHEEL, event),\n    }), [notifySubscribers]);\n    const subscribeSensors = React.useCallback((type, callback) => {\n        if (!subscribers[type]) {\n            subscribers[type] = [];\n        }\n        subscribers[type].unshift(callback);\n        return () => {\n            const listeners = subscribers[type];\n            if (listeners) {\n                listeners.splice(0, listeners.length, ...listeners.filter((el) => el !== callback));\n            }\n        };\n    }, [subscribers]);\n    return { registerSensors, subscribeSensors };\n}\n\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = React.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback((...args) => {\n        lastCallbackTime.current = Date.now();\n        callback(args);\n    });\n    return React.useCallback((...args) => {\n        delayCallback(() => {\n            executeCallback(args);\n        }, delay - (Date.now() - lastCallbackTime.current));\n    }, [delay, executeCallback, delayCallback]);\n}\n\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, style, }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = React.useState(SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset === 0) {\n            publish(activeSlideStatus(status));\n        }\n    }, [offset, status, publish]);\n    const handleLoading = useEventCallback((img) => {\n        (\"decode\" in img ? img.decode() : Promise.resolve())\n            .catch(() => { })\n            .then(() => {\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(SLIDE_STATUS_COMPLETE);\n            setTimeout(() => {\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n            }, 0);\n        });\n    });\n    const setImageRef = React.useCallback((img) => {\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [handleLoading]);\n    const handleOnLoad = React.useCallback((event) => {\n        handleLoading(event.currentTarget);\n    }, [handleLoading]);\n    const onError = React.useCallback(() => {\n        setStatus(SLIDE_STATUS_ERROR);\n    }, []);\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback) => (Number.isFinite(value) ? value : fallback);\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [image.width] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x) => x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [image.height] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight\n        ? {\n            maxWidth: `min(${maxWidth}px, 100%)`,\n            maxHeight: `min(${maxHeight}px, 100%)`,\n        }\n        : {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n        };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b) => a.width - b.width).map((item) => `${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = () => rect && !cover && image.width && image.height ? (rect.height / image.height) * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"img\", { ref: setImageRef, onLoad: handleOnLoad, onError: onError, onClick: onClick, draggable: false, className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName), style: { ...defaultStyle, ...style, ...imagePropsStyle }, ...restImageProps, alt: image.alt, sizes: sizes, srcSet: srcSet, src: image.src }),\n        status !== SLIDE_STATUS_COMPLETE && (React.createElement(\"div\", { className: cssClass(slidePrefix(SLIDE_STATUS_PLACEHOLDER)) },\n            status === SLIDE_STATUS_LOADING &&\n                ((render === null || render === void 0 ? void 0 : render.iconLoading) ? (render.iconLoading()) : (React.createElement(LoadingIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_LOADING))) }))),\n            status === SLIDE_STATUS_ERROR &&\n                ((render === null || render === void 0 ? void 0 : render.iconError) ? (render.iconError()) : (React.createElement(ErrorIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_ERROR))) })))))));\n}\n\nvar SwipeState;\n(function (SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL\"] = 2] = \"PULL\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\n\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    React.useEffect(() => !disabled\n        ? cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp))\n        : () => { }, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled]);\n}\n\nvar Gesture;\n(function (Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL\"] = 2] = \"PULL\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullUpEnabled, pullDownEnabled, onPullStart, onPullProgress, onPullFinish, onPullCancel) {\n    const offset = React.useRef(0);\n    const pointers = React.useRef([]);\n    const activePointer = React.useRef();\n    const startTime = React.useRef(0);\n    const gesture = React.useRef(Gesture.NONE);\n    const clearPointer = React.useCallback((event) => {\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n            gesture.current = Gesture.NONE;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        addPointer(event);\n    });\n    const exceedsPullThreshold = (value, threshold) => (pullDownEnabled && value > threshold) || (pullUpEnabled && value < -threshold);\n    const onPointerUp = useEventCallback((event) => {\n        if (pointers.current.find((x) => x.pointerId === event.pointerId) && activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (gesture.current === Gesture.SWIPE) {\n                if (Math.abs(currentOffset) > 0.3 * containerWidth ||\n                    (Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration)) {\n                    onSwipeFinish(currentOffset, duration);\n                }\n                else {\n                    onSwipeCancel(currentOffset);\n                }\n            }\n            else if (gesture.current === Gesture.PULL) {\n                if (exceedsPullThreshold(currentOffset, 2 * SWIPE_THRESHOLD)) {\n                    onPullFinish(currentOffset, duration);\n                }\n                else {\n                    onPullCancel(currentOffset);\n                }\n            }\n            offset.current = 0;\n            gesture.current = Gesture.NONE;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointer = pointers.current.find((p) => p.pointerId === event.pointerId);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                }\n                else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined) {\n                const startGesture = (newGesture) => {\n                    addPointer(event);\n                    activePointer.current = event.pointerId;\n                    startTime.current = Date.now();\n                    gesture.current = newGesture;\n                };\n                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                    startGesture(Gesture.SWIPE);\n                    onSwipeStart();\n                }\n                else if (Math.abs(deltaY) > Math.abs(deltaX) && exceedsPullThreshold(deltaY, SWIPE_THRESHOLD)) {\n                    startGesture(Gesture.PULL);\n                    onPullStart();\n                }\n            }\n            else if (isCurrentPointer) {\n                if (gesture.current === Gesture.SWIPE) {\n                    offset.current = deltaX;\n                    onSwipeProgress(deltaX);\n                }\n                else if (gesture.current === Gesture.PULL) {\n                    offset.current = deltaY;\n                    onPullProgress(deltaY);\n                }\n            }\n        }\n    });\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\n\nfunction usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY, }) {\n    const ref = React.useRef(null);\n    const listener = useEventCallback((event) => {\n        const horizontal = Math.abs(event.deltaX) > Math.abs(event.deltaY);\n        if ((horizontal && preventDefaultWheelX) || (!horizontal && preventDefaultWheelY) || event.ctrlKey) {\n            event.preventDefault();\n        }\n    });\n    return React.useCallback((node) => {\n        var _a;\n        if (node) {\n            node.addEventListener(\"wheel\", listener, { passive: false });\n        }\n        else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"wheel\", listener);\n        }\n        ref.current = node;\n    }, [listener]);\n}\n\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = React.useRef(0);\n    const intent = React.useRef(0);\n    const intentCleanup = React.useRef();\n    const resetCleanup = React.useRef();\n    const wheelResidualMomentum = React.useRef(0);\n    const startTime = React.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = React.useCallback(() => {\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const cancelSwipeResetCleanup = React.useCallback(() => {\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const handleCleanup = useEventCallback(() => {\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    React.useEffect(handleCleanup, [swipeState, handleCleanup]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset) => {\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        if (swipeState === SwipeState.NONE) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n                wheelResidualMomentum.current = event.deltaX;\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                wheelResidualMomentum.current = 0;\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(() => {\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        }\n        else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                wheelResidualMomentum.current = event.deltaX;\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(() => handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        }\n        else {\n            wheelResidualMomentum.current = event.deltaX;\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_WHEEL, onWheel), [subscribeSensors, onWheel]);\n}\n\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const { closeOnPullUp, closeOnPullDown, preventDefaultWheelX, preventDefaultWheelY } = controller;\n    const [toolbarWidth, setToolbarWidth] = React.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n    const swipeOffset = React.useRef(0);\n    const pullOffset = React.useRef(0);\n    const pullOpacity = React.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY }), setContainerRef);\n    const carouselRef = React.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const isRTL = useRTL();\n    const rtl = (value) => (isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback(() => { var _a; return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus(); });\n    const getLightboxProps = useEventCallback(() => props);\n    const getLightboxState = useEventCallback(() => state);\n    const prev = React.useCallback((params) => publish(ACTION_PREV, params), [publish]);\n    const next = React.useCallback((params) => publish(ACTION_NEXT, params), [publish]);\n    const close = React.useCallback(() => publish(ACTION_CLOSE), [publish]);\n    const isSwipeValid = (offset) => !(carousel.finite &&\n        ((rtl(offset) > 0 && state.currentIndex === 0) ||\n            (rtl(offset) < 0 && state.currentIndex === state.slides.length - 1)));\n    const setSwipeOffset = (offset) => {\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const setPullOffset = (offset) => {\n        var _a, _b;\n        pullOffset.current = offset;\n        pullOpacity.current = (() => {\n            const threshold = 60;\n            const minOpacity = 0.5;\n            const offsetValue = (() => {\n                if (closeOnPullDown && offset > 0)\n                    return offset;\n                if (closeOnPullUp && offset < 0)\n                    return -offset;\n                return 0;\n            })();\n            return Math.min(Math.max(round(1 - (offsetValue / threshold) * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_opacity\"), `${pullOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullAnimation } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        if (carouselRef.current && containerRect) {\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                        opacity: snapshot.opacity,\n                    },\n                    { transform: \"translate(0, 0)\", opacity: 1 },\n                ],\n                duration: snapshot.duration,\n                easing: animation.easing.fade,\n            };\n        }\n        return undefined;\n    });\n    const pull = (offset, cancel) => {\n        if (closeOnPullUp || closeOnPullDown) {\n            setPullOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullOpacity.current,\n                    duration,\n                });\n            }\n            cleanupPullOffset(() => {\n                setPullOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        var _a;\n        if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? (parsedSpacing.percent * containerRect.width) / 100 : parsedSpacing.pixel) || 0;\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) +\n                            snapshot.rect.x -\n                            rect.x +\n                            translate.x}px, 0)`,\n                    },\n                    { transform: \"translate(0, 0)\" },\n                ],\n                duration: state.animation.duration,\n                easing: state.animation.easing,\n            };\n        }\n        return undefined;\n    });\n    const swipe = useEventCallback((action) => {\n        var _a, _b;\n        const currentSwipeOffset = action.offset || 0;\n        const swipeDuration = !currentSwipeOffset ? (_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe : animation.swipe;\n        const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n        let { direction } = action;\n        const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth\n                ? (swipeDuration / containerWidth) * Math.abs(currentSwipeOffset)\n                : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration =\n                        (newSwipeAnimationDuration / expectedTime) * Math.max(elapsedTime, expectedTime / 5);\n                }\n                else if (containerWidth) {\n                    newSwipeAnimationDuration =\n                        (swipeDuration / containerWidth) * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n                direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n            }\n            else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n        }\n        let increment = 0;\n        if (direction === ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        else if (direction === ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        cleanupSwipeOffset(() => {\n            setSwipeOffset(0);\n            setSwipeState(SwipeState.NONE);\n        }, newSwipeAnimationDuration);\n        if (carouselRef.current) {\n            prepareAnimation({\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex,\n            });\n        }\n        setSwipeState(newSwipeState);\n        publish(ACTION_SWIPE, {\n            type: \"swipe\",\n            increment,\n            duration: newSwipeAnimationDuration,\n            easing: swipeEasing,\n        });\n    });\n    React.useEffect(() => {\n        var _a, _b;\n        if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n            cleanupAnimationIncrement(() => dispatch({ type: \"swipe\", increment: 0 }), state.animation.duration);\n        }\n    }, [state.animation, dispatch, cleanupAnimationIncrement]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        () => setSwipeState(SwipeState.SWIPE),\n        (offset) => setSwipeOffset(offset),\n        (offset, duration) => swipe({ offset, duration, count: 1 }),\n        (offset) => swipe({ offset, count: 0 }),\n    ];\n    const pullParams = [\n        () => {\n            if (closeOnPullDown) {\n                setSwipeState(SwipeState.PULL);\n            }\n        },\n        (offset) => setPullOffset(offset),\n        (offset) => pull(offset),\n        (offset) => pull(offset, true),\n    ];\n    usePointerSwipe(...swipeParams, closeOnPullUp, closeOnPullDown, ...pullParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(() => {\n        if (controller.focus) {\n            if (document.querySelector(`.${cssClass(MODULE_PORTAL)} .${cssClass(cssContainerPrefix())}`)) {\n                focus();\n            }\n        }\n    });\n    React.useEffect(focusOnMount, [focusOnMount]);\n    const onViewCallback = useEventCallback(() => {\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, { index: state.currentIndex });\n    });\n    React.useEffect(onViewCallback, [state.globalIndex, onViewCallback]);\n    React.useEffect(() => cleanup(subscribe(ACTION_PREV, (action) => swipe({ direction: ACTION_PREV, ...action })), subscribe(ACTION_NEXT, (action) => swipe({ direction: ACTION_NEXT, ...action })), subscribe(ACTION_SWIPE, (action) => dispatch(action))), [subscribe, swipe, dispatch]);\n    const context = React.useMemo(() => ({\n        prev,\n        next,\n        close,\n        focus,\n        slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : { width: 0, height: 0 },\n        containerRect: containerRect || { width: 0, height: 0 },\n        subscribeSensors,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n    }), [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding,\n    ]);\n    React.useImperativeHandle(controller.ref, () => ({\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState,\n    }), [prev, next, close, focus, getLightboxProps, getLightboxState]);\n    return (React.createElement(\"div\", { ref: handleContainerRef, className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(swipeState === SwipeState.SWIPE\n                ? { [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px` }\n                : null),\n            ...(swipeState === SwipeState.PULL\n                ? {\n                    [cssVar(\"pull_offset\")]: `${Math.round(pullOffset.current)}px`,\n                    [cssVar(\"pull_opacity\")]: `${pullOpacity.current}`,\n                }\n                : null),\n            ...(controller.touchAction !== \"none\" ? { [cssVar(\"controller_touch_action\")]: controller.touchAction } : null),\n            ...styles.container,\n        }, ...(controller.aria ? { role: \"presentation\", \"aria-live\": \"polite\" } : null), tabIndex: -1, ...registerSensors }, containerRect && (React.createElement(ControllerContext.Provider, { value: context },\n        children, (_a = render.controls) === null || _a === void 0 ? void 0 :\n        _a.call(render)))));\n}\nconst ControllerModule = createModule(MODULE_CONTROLLER, Controller);\n\nfunction cssPrefix$2(value) {\n    return composePrefix(MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = React.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, close } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, controller: { closeOnBackdropClick }, styles: { slide: style }, } = useLightboxProps();\n    const renderSlide = () => {\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect: slideRect });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = (React.createElement(ImageSlide, { slide: slide, offset: offset, render: render, rect: slideRect, imageFit: imageFit, imageProps: imageProps, onClick: offset === 0 ? () => onClick === null || onClick === void 0 ? void 0 : onClick({ index: currentIndex }) : undefined }));\n        }\n        return rendered ? (React.createElement(React.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 :\n            _b.call(render, { slide }),\n            ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : (({ children }) => children))({ slide, children: rendered }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 :\n            _d.call(render, { slide }))) : null;\n    };\n    const handleBackdropClick = (event) => {\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (closeOnBackdropClick &&\n            target &&\n            container &&\n            (target === container ||\n                (Array.from(container.children).find((x) => x === target) &&\n                    target.classList.contains(cssClass(CLASS_SLIDE_WRAPPER))))) {\n            close();\n        }\n    };\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(CLASS_FLEX_CENTER)), onClick: handleBackdropClick, style: style }, renderSlide()));\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return React.createElement(\"div\", { className: cssClass(\"slide\"), style: style });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const preload = calculatePreload(carousel, slides, 1);\n    const items = [];\n    if (hasSlides(slides)) {\n        for (let index = currentIndex - preload; index <= currentIndex + preload; index += 1) {\n            const slide = getSlide(slides, index);\n            const key = globalIndex - currentIndex + index;\n            const placeholder = carousel.finite && (index < 0 || index > slides.length - 1);\n            items.push(!placeholder\n                ? {\n                    key: [`${key}`, getSlideKey(slide)].filter(Boolean).join(\"|\"),\n                    offset: index - currentIndex,\n                    slide,\n                }\n                : { key });\n        }\n    }\n    return (React.createElement(\"div\", { ref: setCarouselRef, className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))), style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0,\n        } }, items.map(({ key, slide, offset }) => slide ? React.createElement(CarouselSlide, { key: key, slide: slide, offset: offset }) : React.createElement(Placeholder, { key: key }))));\n}\nconst CarouselModule = createModule(MODULE_CAROUSEL, Carousel);\n\nfunction useNavigationState() {\n    const { carousel } = useLightboxProps();\n    const { slides, currentIndex } = useLightboxState();\n    const prevDisabled = slides.length === 0 || (carousel.finite && currentIndex === 0);\n    const nextDisabled = slides.length === 0 || (carousel.finite && currentIndex === slides.length - 1);\n    return { prevDisabled, nextDisabled };\n}\n\nfunction useKeyboardNavigation(subscribeSensors) {\n    var _a;\n    const isRTL = useRTL();\n    const { publish } = useEvents();\n    const { animation } = useLightboxProps();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prev = useThrottle(() => publish(ACTION_PREV), throttle);\n    const next = useThrottle(() => publish(ACTION_NEXT), throttle);\n    const handleKeyDown = useEventCallback((event) => {\n        switch (event.key) {\n            case VK_ESCAPE:\n                publish(ACTION_CLOSE);\n                break;\n            case VK_ARROW_LEFT:\n                if (!(isRTL ? nextDisabled : prevDisabled))\n                    (isRTL ? next : prev)();\n                break;\n            case VK_ARROW_RIGHT:\n                if (!(isRTL ? prevDisabled : nextDisabled))\n                    (isRTL ? prev : next)();\n                break;\n            default:\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_DOWN, handleKeyDown), [subscribeSensors, handleKeyDown]);\n}\n\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return (React.createElement(IconButton, { label: label, icon: icon, renderIcon: renderIcon, className: cssClass(`navigation_${action}`), disabled: disabled, onClick: onClick, style: style, ...useLoseFocus(useController().focus, disabled) }));\n}\nfunction Navigation({ render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles }) {\n    const { prev, next, subscribeSensors } = useController();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    useKeyboardNavigation(subscribeSensors);\n    return (React.createElement(React.Fragment, null,\n        buttonPrev ? (buttonPrev()) : (React.createElement(NavigationButton, { label: \"Previous\", action: ACTION_PREV, icon: PreviousIcon, renderIcon: iconPrev, style: styles.navigationPrev, disabled: prevDisabled, onClick: prev })),\n        buttonNext ? (buttonNext()) : (React.createElement(NavigationButton, { label: \"Next\", action: ACTION_NEXT, icon: NextIcon, renderIcon: iconNext, style: styles.navigationNext, disabled: nextDisabled, onClick: next }))));\n}\nconst NavigationModule = createModule(MODULE_NAVIGATION, Navigation);\n\nconst noScroll = cssClass(CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue) || 0) + padding}px`);\n    return () => {\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        }\n        else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ noScroll: { disabled }, children }) {\n    const rtl = useRTL();\n    useLayoutEffect(() => {\n        if (disabled)\n            return () => { };\n        const cleanup = [];\n        const { body, documentElement } = document;\n        const scrollbar = Math.round(window.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for (let i = 0; i < elements.length; i += 1) {\n                const element = elements[i];\n                if (isHTMLElement(element) &&\n                    window.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" &&\n                    !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return () => {\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean) => clean());\n        };\n    }, [rtl, disabled]);\n    return React.createElement(React.Fragment, null, children);\n}\nconst NoScrollModule = createModule(MODULE_NO_SCROLL, NoScroll);\n\nfunction cssPrefix$1(value) {\n    return composePrefix(MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return () => {\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        }\n        else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = React.useState(false);\n    const [visible, setVisible] = React.useState(false);\n    const cleanup = React.useRef([]);\n    const restoreFocus = React.useRef(null);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    React.useEffect(() => {\n        setMounted(true);\n        return () => {\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleCleanup = useEventCallback(() => {\n        cleanup.current.forEach((clean) => clean());\n        cleanup.current = [];\n    });\n    const handleClose = useEventCallback(() => {\n        var _a;\n        setVisible(false);\n        handleCleanup();\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(() => {\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, animationDuration);\n    });\n    React.useEffect(() => subscribe(ACTION_CLOSE, handleClose), [subscribe, handleClose]);\n    const handleEnter = useEventCallback((node) => {\n        var _a, _b, _c;\n        node.scrollTop;\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if ([\"TEMPLATE\", \"SCRIPT\", \"STYLE\"].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        cleanup.current.push(() => {\n            var _a, _b;\n            (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n        setTimeout(() => {\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, animationDuration);\n    });\n    const handleRef = React.useCallback((node) => {\n        if (node) {\n            handleEnter(node);\n        }\n        else {\n            handleCleanup();\n        }\n    }, [handleEnter, handleCleanup]);\n    return mounted\n        ? createPortal(React.createElement(\"div\", { ref: handleRef, className: clsx(className, cssClass(\"root\"), cssClass(cssPrefix$1()), cssClass(CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))), role: \"presentation\", \"aria-live\": \"polite\", style: {\n                ...(animation.fade !== LightboxDefaultProps.animation.fade\n                    ? { [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms` }\n                    : null),\n                ...(animation.easing.fade !== LightboxDefaultProps.animation.easing.fade\n                    ? { [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade }\n                    : null),\n                ...styles.root,\n            }, onFocus: (event) => {\n                if (!restoreFocus.current) {\n                    restoreFocus.current = event.relatedTarget;\n                }\n            } }, children), portal.root || document.body)\n        : null;\n}\nconst PortalModule = createModule(MODULE_PORTAL, Portal);\n\nfunction Root({ children }) {\n    return React.createElement(React.Fragment, null, children);\n}\nconst RootModule = createModule(MODULE_ROOT, Root);\n\nfunction cssPrefix(value) {\n    return composePrefix(MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect(() => {\n        setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n    }, [setToolbarWidth, containerRect === null || containerRect === void 0 ? void 0 : containerRect.width]);\n    const renderCloseButton = () => {\n        if (buttonClose)\n            return buttonClose();\n        return React.createElement(IconButton, { key: ACTION_CLOSE, label: \"Close\", icon: CloseIcon, renderIcon: iconClose, onClick: close });\n    };\n    return (React.createElement(\"div\", { ref: setContainerRef, style: styles.toolbar, className: cssClass(cssPrefix()) }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button) => (button === ACTION_CLOSE ? renderCloseButton() : button))));\n}\nconst ToolbarModule = createModule(MODULE_TOOLBAR, Toolbar);\n\nfunction renderNode(node, props) {\n    var _a;\n    return React.createElement(node.module.component, { key: node.module.name, ...props }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child) => renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: { ...defaultAnimationEasing, ...easing },\n        ...restDefaultAnimation,\n        ...restAnimation,\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, noScroll, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, noScroll: defaultNoScroll, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule),\n                ]),\n            ]),\n        ]),\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: { ...defaultCarousel, ...carousel },\n        render: { ...defaultRender, ...render },\n        toolbar: { ...defaultToolbar, ...toolbar },\n        controller: { ...defaultController, ...controller },\n        noScroll: { ...defaultNoScroll, ...noScroll },\n        on: { ...defaultOn, ...on },\n        ...restDefaultProps,\n        ...restProps,\n    });\n    if (!props.open)\n        return null;\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(LightboxStateProvider, { slides: slides || defaultSlides, index: parseInt(index || defaultIndex) },\n            React.createElement(TimeoutsProvider, null,\n                React.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props))))));\n}\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, CLASS_FLEX_CENTER, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, Carousel, CarouselModule, CloseIcon, Controller, ControllerContext, ControllerModule, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, ErrorIcon, EventsContext, EventsProvider, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, IconButton, ImageSlide, Lightbox, LightboxDefaultProps, LightboxDispatchContext, LightboxPropsContext, LightboxPropsProvider, LightboxStateContext, LightboxStateProvider, LoadingIcon, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, Navigation, NavigationButton, NavigationModule, NextIcon, NoScroll, NoScrollModule, Portal, PortalModule, PreviousIcon, Root, RootModule, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SwipeState, TimeoutsContext, TimeoutsProvider, Toolbar, ToolbarModule, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus, addToolbarButton, calculatePreload, cleanup, clsx, composePrefix, computeSlideRect, createIcon, createIconDisabled, createModule, createNode, cssClass, cssVar, Lightbox as default, devicePixelRatio, getSlide, getSlideIfPresent, getSlideIndex, getSlideKey, hasSlides, hasWindow, isImageFitCover, isImageSlide, label, makeComposePrefix, makeUseContext, parseInt, parseLengthPercentage, round, setRef, stopNavigationEventsPropagation, useAnimation, useContainerRect, useController, useDelay, useEventCallback, useEvents, useForkRef, useKeyboardNavigation, useLayoutEffect, useLightboxDispatch, useLightboxProps, useLightboxState, useLoseFocus, useMotionPreference, useNavigationState, usePointerEvents, usePointerSwipe, usePreventWheelDefaults, useRTL, useSensors, useThrottle, useTimeouts, useWheelSwipe, withPlugins };","import { cssClass, useLightboxProps, makeUseContext, useController, clsx, cssVar, createIcon, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { PLUGIN_CAPTIONS } from '../../types.js';\n\nconst cssPrefix = (className) => cssClass(`slide_${className}`);\n\nconst defaultCaptionsProps = {\n    descriptionTextAlign: \"start\",\n    descriptionMaxLines: 3,\n    showToggle: false,\n};\nconst resolveCaptionsProps = (captions) => ({\n    ...defaultCaptionsProps,\n    ...captions,\n});\nfunction useCaptionsProps() {\n    const { captions } = useLightboxProps();\n    return resolveCaptionsProps(captions);\n}\n\nconst CaptionsContext = React.createContext(null);\nconst useCaptions = makeUseContext(\"useCaptions\", \"CaptionsContext\", CaptionsContext);\nfunction CaptionsContextProvider({ captions, children }) {\n    const { ref } = resolveCaptionsProps(captions);\n    const [visible, setVisible] = React.useState(true);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(CaptionsContext.Provider, { value: context }, children);\n}\n\nfunction Title({ title }) {\n    const { toolbarWidth } = useController();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsTitleContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"title_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"title\"), style: {\n                ...(toolbarWidth ? { [cssVar(\"toolbar_width\")]: `${toolbarWidth}px` } : null),\n                ...styles.captionsTitle,\n            } }, title)));\n}\n\nfunction Description({ description }) {\n    const { descriptionTextAlign, descriptionMaxLines } = useCaptionsProps();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsDescriptionContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"description_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"description\"), style: {\n                ...(descriptionTextAlign !== defaultCaptionsProps.descriptionTextAlign ||\n                    descriptionMaxLines !== defaultCaptionsProps.descriptionMaxLines\n                    ? {\n                        [cssVar(\"slide_description_text_align\")]: descriptionTextAlign,\n                        [cssVar(\"slide_description_max_lines\")]: descriptionMaxLines,\n                    }\n                    : null),\n                ...styles.captionsDescription,\n            } }, typeof description === \"string\"\n            ? description\n                .split(\"\\n\")\n                .flatMap((line, index) => [...(index > 0 ? [React.createElement(\"br\", { key: index })] : []), line])\n            : description)));\n}\n\nconst captionsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z\" })));\nconst CaptionsVisible = createIcon(\"CaptionsVisible\", captionsIcon());\nconst CaptionsHidden = createIconDisabled(\"CaptionsVisible\", captionsIcon());\nfunction CaptionsButton() {\n    const { visible, show, hide } = useCaptions();\n    const { render } = useLightboxProps();\n    if (render.buttonCaptions) {\n        return React.createElement(React.Fragment, null, render.buttonCaptions({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide captions\" : \"Show captions\", icon: visible ? CaptionsVisible : CaptionsHidden, renderIcon: visible ? render.iconCaptionsVisible : render.iconCaptionsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Captions({ augment, addModule }) {\n    augment(({ captions: captionsProps, render: { slideFooter: renderFooter, ...restRender }, toolbar, ...restProps }) => {\n        const captions = resolveCaptionsProps(captionsProps);\n        return {\n            render: {\n                slideFooter: ({ slide }) => (React.createElement(React.Fragment, null, renderFooter === null || renderFooter === void 0 ? void 0 :\n                    renderFooter({ slide }),\n                    slide.title && React.createElement(Title, { title: slide.title }),\n                    slide.description && React.createElement(Description, { description: slide.description }))),\n                ...restRender,\n            },\n            toolbar: addToolbarButton(toolbar, PLUGIN_CAPTIONS, captions.showToggle ? React.createElement(CaptionsButton, null) : null),\n            captions,\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_CAPTIONS, CaptionsContextProvider));\n}\n\nexport { Captions as default };\n","import { makeUseContext, useLayoutEffect, useEventCallback, clsx, cssClass, createIcon, useLightboxProps, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { PLUGIN_FULLSCREEN, CLASS_FULLSIZE, PLUGIN_THUMBNAILS, MODULE_CONTROLLER } from '../../types.js';\n\nconst defaultFullscreenProps = {\n    auto: false,\n    ref: null,\n};\nconst resolveFullscreenProps = (fullscreen) => ({\n    ...defaultFullscreenProps,\n    ...fullscreen,\n});\n\nconst FullscreenContext = React.createContext(null);\nconst useFullscreen = makeUseContext(\"useFullscreen\", \"FullscreenContext\", FullscreenContext);\nfunction FullscreenContextProvider({ fullscreen: fullscreenProps, on, children }) {\n    const { auto, ref } = resolveFullscreenProps(fullscreenProps);\n    const containerRef = React.useRef(null);\n    const [disabled, setDisabled] = React.useState();\n    const [fullscreen, setFullscreen] = React.useState(false);\n    const wasFullscreen = React.useRef(false);\n    useLayoutEffect(() => {\n        var _a, _b, _c, _d;\n        setDisabled(!((_d = (_c = (_b = (_a = document.fullscreenEnabled) !== null && _a !== void 0 ? _a : document.webkitFullscreenEnabled) !== null && _b !== void 0 ? _b : document.mozFullScreenEnabled) !== null && _c !== void 0 ? _c : document.msFullscreenEnabled) !== null && _d !== void 0 ? _d : false));\n    }, []);\n    const getFullscreenElement = React.useCallback(() => {\n        var _a, _b, _c;\n        return (_c = (_b = (_a = document.fullscreenElement) !== null && _a !== void 0 ? _a : document.webkitFullscreenElement) !== null && _b !== void 0 ? _b : document.mozFullScreenElement) !== null && _c !== void 0 ? _c : document.msFullscreenElement;\n    }, []);\n    const enter = React.useCallback(() => {\n        const container = containerRef.current;\n        if (container) {\n            try {\n                if (container.requestFullscreen) {\n                    container.requestFullscreen().catch(() => { });\n                }\n                else if (container.webkitRequestFullscreen) {\n                    container.webkitRequestFullscreen();\n                }\n                else if (container.mozRequestFullScreen) {\n                    container.mozRequestFullScreen();\n                }\n                else if (container.msRequestFullscreen) {\n                    container.msRequestFullscreen();\n                }\n            }\n            catch (err) {\n            }\n        }\n    }, []);\n    const exit = React.useCallback(() => {\n        if (getFullscreenElement()) {\n            try {\n                if (document.exitFullscreen) {\n                    document.exitFullscreen().catch(() => { });\n                }\n                else if (document.webkitExitFullscreen) {\n                    document.webkitExitFullscreen();\n                }\n                else if (document.mozCancelFullScreen) {\n                    document.mozCancelFullScreen();\n                }\n                else if (document.msExitFullscreen) {\n                    document.msExitFullscreen();\n                }\n            }\n            catch (err) {\n            }\n        }\n    }, [getFullscreenElement]);\n    React.useEffect(() => {\n        const events = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\n        const fullscreenChangeListener = () => {\n            setFullscreen(getFullscreenElement() === containerRef.current);\n        };\n        events.forEach((event) => {\n            document.addEventListener(event, fullscreenChangeListener);\n        });\n        return () => {\n            events.forEach((event) => {\n                document.removeEventListener(event, fullscreenChangeListener);\n            });\n        };\n    }, [getFullscreenElement]);\n    const onEnterFullscreen = useEventCallback(() => { var _a; return (_a = on.enterFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onExitFullscreen = useEventCallback(() => { var _a; return (_a = on.exitFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    React.useEffect(() => {\n        if (fullscreen) {\n            wasFullscreen.current = true;\n        }\n        if (wasFullscreen.current) {\n            (fullscreen ? onEnterFullscreen : onExitFullscreen)();\n        }\n    }, [fullscreen, onEnterFullscreen, onExitFullscreen]);\n    const handleAutoFullscreen = useEventCallback(() => { var _a; return (_a = (auto ? enter : null)) === null || _a === void 0 ? void 0 : _a(); });\n    React.useEffect(() => {\n        handleAutoFullscreen();\n        return () => exit();\n    }, [handleAutoFullscreen, exit]);\n    const context = React.useMemo(() => ({\n        fullscreen,\n        disabled,\n        enter,\n        exit,\n    }), [fullscreen, disabled, enter, exit]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(PLUGIN_FULLSCREEN), cssClass(CLASS_FULLSIZE)) },\n        React.createElement(FullscreenContext.Provider, { value: context }, children)));\n}\n\nconst EnterFullscreenIcon = createIcon(\"EnterFullscreen\", React.createElement(\"path\", { d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" }));\nconst ExitFullscreenIcon = createIcon(\"ExitFullscreen\", React.createElement(\"path\", { d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" }));\nfunction FullscreenButton() {\n    var _a;\n    const { fullscreen, disabled, enter, exit } = useFullscreen();\n    const { render } = useLightboxProps();\n    if (disabled)\n        return null;\n    if (render.buttonFullscreen) {\n        return React.createElement(React.Fragment, null, (_a = render.buttonFullscreen) === null || _a === void 0 ? void 0 : _a.call(render, { fullscreen, disabled, enter, exit }));\n    }\n    return (React.createElement(IconButton, { disabled: disabled, label: fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\", icon: fullscreen ? ExitFullscreenIcon : EnterFullscreenIcon, renderIcon: fullscreen ? render.iconExitFullscreen : render.iconEnterFullscreen, onClick: fullscreen ? exit : enter }));\n}\n\nfunction Fullscreen({ augment, contains, addParent }) {\n    augment(({ fullscreen, toolbar, ...restProps }) => ({\n        toolbar: addToolbarButton(toolbar, PLUGIN_FULLSCREEN, React.createElement(FullscreenButton, null)),\n        fullscreen: resolveFullscreenProps(fullscreen),\n        ...restProps,\n    }));\n    addParent(contains(PLUGIN_THUMBNAILS) ? PLUGIN_THUMBNAILS : MODULE_CONTROLLER, createModule(PLUGIN_FULLSCREEN, FullscreenContextProvider));\n}\n\nexport { Fullscreen as default };\n","import { makeUseContext, useLightboxState, useTimeouts, useEvents, useController, useEventCallback, cleanup, createIcon, useLightboxProps, useLoseFocus, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { SLIDE_STATUS_LOADING, SLIDE_STATUS_PLAYING, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, ACTIVE_SLIDE_ERROR, SLIDE_STATUS_ERROR, ACTIVE_SLIDE_COMPLETE, SLIDE_STATUS_COMPLETE, PLUGIN_SLIDESHOW } from '../../types.js';\n\nconst defaultSlideshowProps = {\n    autoplay: false,\n    delay: 3000,\n    ref: null,\n};\nconst resolveSlideshowProps = (slideshow) => ({\n    ...defaultSlideshowProps,\n    ...slideshow,\n});\n\nconst SlideshowContext = React.createContext(null);\nconst useSlideshow = makeUseContext(\"useSlideshow\", \"SlideshowContext\", SlideshowContext);\nfunction SlideshowContextProvider({ slideshow, carousel: { finite }, on, children }) {\n    const { autoplay, delay, ref } = resolveSlideshowProps(slideshow);\n    const wasPlaying = React.useRef(autoplay);\n    const [playing, setPlaying] = React.useState(autoplay);\n    const scheduler = React.useRef();\n    const slideStatus = React.useRef();\n    const { slides, currentIndex } = useLightboxState();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const { next } = useController();\n    const disabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const play = React.useCallback(() => {\n        if (!playing && !disabled) {\n            setPlaying(true);\n        }\n    }, [playing, disabled]);\n    const pause = React.useCallback(() => {\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing]);\n    const cancelScheduler = React.useCallback(() => {\n        clearTimeout(scheduler.current);\n        scheduler.current = undefined;\n    }, [clearTimeout]);\n    const scheduleNextSlide = useEventCallback(() => {\n        cancelScheduler();\n        if (!playing ||\n            disabled ||\n            slideStatus.current === SLIDE_STATUS_LOADING ||\n            slideStatus.current === SLIDE_STATUS_PLAYING) {\n            return;\n        }\n        scheduler.current = setTimeout(() => {\n            if (playing) {\n                slideStatus.current = undefined;\n                next();\n            }\n        }, delay);\n    });\n    React.useEffect(scheduleNextSlide, [currentIndex, playing, scheduleNextSlide]);\n    React.useEffect(() => {\n        if (playing && disabled) {\n            setPlaying(false);\n        }\n    }, [currentIndex, playing, disabled]);\n    const onSlideshowStart = useEventCallback(() => { var _a; return (_a = on.slideshowStart) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onSlideshowStop = useEventCallback(() => { var _a; return (_a = on.slideshowStop) === null || _a === void 0 ? void 0 : _a.call(on); });\n    React.useEffect(() => {\n        if (playing) {\n            onSlideshowStart();\n        }\n        else if (wasPlaying.current) {\n            onSlideshowStop();\n        }\n        wasPlaying.current = playing;\n    }, [playing, onSlideshowStart, onSlideshowStop]);\n    React.useEffect(() => cleanup(cancelScheduler, subscribe(ACTIVE_SLIDE_LOADING, () => {\n        slideStatus.current = SLIDE_STATUS_LOADING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_PLAYING, () => {\n        slideStatus.current = SLIDE_STATUS_PLAYING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_ERROR, () => {\n        slideStatus.current = SLIDE_STATUS_ERROR;\n        scheduleNextSlide();\n    }), subscribe(ACTIVE_SLIDE_COMPLETE, () => {\n        slideStatus.current = SLIDE_STATUS_COMPLETE;\n        scheduleNextSlide();\n    })), [subscribe, cancelScheduler, scheduleNextSlide]);\n    const context = React.useMemo(() => ({ playing, disabled, play, pause }), [playing, disabled, play, pause]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(SlideshowContext.Provider, { value: context }, children);\n}\n\nconst PlayIcon = createIcon(\"Play\", React.createElement(\"path\", { d: \"M8 5v14l11-7z\" }));\nconst PauseIcon = createIcon(\"Pause\", React.createElement(\"path\", { d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" }));\nfunction SlideshowButton() {\n    const { playing, disabled, play, pause } = useSlideshow();\n    const { render } = useLightboxProps();\n    const focusListeners = useLoseFocus(useController().focus, disabled);\n    if (render.buttonSlideshow) {\n        return React.createElement(React.Fragment, null, render.buttonSlideshow({ playing, disabled, play, pause }));\n    }\n    return (React.createElement(IconButton, { label: playing ? \"Pause\" : \"Play\", icon: playing ? PauseIcon : PlayIcon, renderIcon: playing ? render.iconSlideshowPause : render.iconSlideshowPlay, onClick: playing ? pause : play, disabled: disabled, ...focusListeners }));\n}\n\nfunction Slideshow({ augment, addModule }) {\n    augment(({ slideshow, toolbar, ...restProps }) => ({\n        toolbar: addToolbarButton(toolbar, PLUGIN_SLIDESHOW, React.createElement(SlideshowButton, null)),\n        slideshow: resolveSlideshowProps(slideshow),\n        ...restProps,\n    }));\n    addModule(createModule(PLUGIN_SLIDESHOW, SlideshowContextProvider));\n}\n\nexport { Slideshow as default };\n","import * as React from 'react';\nimport { useLightboxProps, useEvents, useContainerRect, useEventCallback, clsx, cssClass } from '../../index.js';\nimport { ACTIVE_SLIDE_LOADING, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, ACTIVE_SLIDE_PLAYING, ACTIVE_SLIDE_COMPLETE } from '../../types.js';\n\nconst defaultVideoProps = {\n    controls: true,\n    playsInline: true,\n};\nconst resolveVideoProps = (video) => ({\n    ...defaultVideoProps,\n    ...video,\n});\nfunction useVideoProps() {\n    const { video } = useLightboxProps();\n    return resolveVideoProps(video);\n}\n\nfunction VideoSlide({ slide, offset }) {\n    const video = useVideoProps();\n    const { publish } = useEvents();\n    const { setContainerRef, containerRect } = useContainerRect();\n    const videoRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset !== 0 && videoRef.current && !videoRef.current.paused) {\n            videoRef.current.pause();\n        }\n    }, [offset]);\n    React.useEffect(() => {\n        if (offset === 0 && videoRef.current && (slide.autoPlay || video.autoPlay)) {\n            publish(ACTIVE_SLIDE_LOADING);\n            videoRef.current.play().catch(() => { });\n        }\n    }, [offset, video.autoPlay, slide.autoPlay, publish]);\n    const handleVideoRef = useEventCallback((node) => {\n        if (offset === 0 && (video.autoPlay || slide.autoPlay) && node.paused) {\n            node.play().catch(() => { });\n        }\n    });\n    const setVideoRef = React.useCallback((node) => {\n        videoRef.current = node;\n        if (node) {\n            handleVideoRef(node);\n        }\n    }, [handleVideoRef]);\n    const { width, height, poster, sources } = slide;\n    const scaleWidthAndHeight = () => {\n        const scalingProps = {};\n        scalingProps.style = { maxWidth: \"100%\", maxHeight: \"100%\" };\n        if (width && height && containerRect) {\n            const widthBound = width / height > containerRect.width / containerRect.height;\n            const elementWidth = widthBound ? containerRect.width : Math.round((containerRect.height / height) * width);\n            const elementHeight = !widthBound ? containerRect.height : Math.round((containerRect.width / width) * height);\n            scalingProps.width = elementWidth;\n            scalingProps.height = elementHeight;\n            scalingProps.style.width = elementWidth;\n            scalingProps.style.height = elementHeight;\n        }\n        return scalingProps;\n    };\n    const resolveBoolean = (attr) => {\n        if (slide[attr] === false)\n            return null;\n        if (slide[attr] === true)\n            return { [attr]: true };\n        if (video[attr] === false)\n            return null;\n        if (video[attr] === true)\n            return { [attr]: true };\n        return null;\n    };\n    const resolveString = (attr) => {\n        if (video[attr] || slide[attr]) {\n            return { [attr]: slide[attr] || video[attr] };\n        }\n        return null;\n    };\n    return (React.createElement(React.Fragment, null, sources && (React.createElement(\"div\", { ref: setContainerRef, style: {\n            width: \"100%\",\n            height: \"100%\",\n            ...(width ? { maxWidth: `${width}px` } : null),\n        }, className: clsx(cssClass(\"video_container\"), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER)) }, containerRect && (React.createElement(\"video\", { ref: setVideoRef, poster: poster, ...scaleWidthAndHeight(), ...resolveBoolean(\"controls\"), ...resolveBoolean(\"playsInline\"), ...resolveBoolean(\"loop\"), ...resolveBoolean(\"muted\"), ...resolveBoolean(\"playsInline\"), ...resolveBoolean(\"disablePictureInPicture\"), ...resolveBoolean(\"disableRemotePlayback\"), ...resolveString(\"controlsList\"), ...resolveString(\"crossOrigin\"), ...resolveString(\"preload\"), onPlay: () => {\n            publish(ACTIVE_SLIDE_PLAYING);\n        }, onEnded: () => {\n            publish(ACTIVE_SLIDE_COMPLETE);\n        } }, sources.map(({ src, type }) => (React.createElement(\"source\", { key: [src, type].join(\"|\"), src: src, type: type })))))))));\n}\n\nfunction isVideoSlide(slide) {\n    return slide.type === \"video\";\n}\nfunction Video({ augment }) {\n    augment(({ render: { slide: renderSlide, ...restRender }, video, ...restProps }) => ({\n        render: {\n            slide: ({ slide, offset, rect }) => {\n                var _a;\n                return isVideoSlide(slide) ? (React.createElement(VideoSlide, { key: (_a = slide.sources) === null || _a === void 0 ? void 0 : _a.map((source) => source.src).join(\"|\"), slide: slide, offset: offset })) : (renderSlide === null || renderSlide === void 0 ? void 0 : renderSlide({ slide, offset, rect }));\n            },\n            ...restRender,\n        },\n        video: resolveVideoProps(video),\n        ...restProps,\n    }));\n}\n\nexport { Video as default };\n","import { useLightboxProps, useMotionPreference, useEventCallback, useLayoutEffect, useLightboxState, isImageSlide, isImageFitCover, round, useController, usePointerEvents, cleanup, makeUseContext, createIcon, IconButton, devicePixelRatio, ImageSlide, clsx, cssClass, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_WHEEL, UNKNOWN_ACTION_TYPE, CLASS_FULLSIZE, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, PLUGIN_ZOOM } from '../../types.js';\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = React.useRef();\n    const zoomAnimationStart = React.useRef();\n    const { zoom: zoomAnimationDuration } = useLightboxProps().animation;\n    const reduceMotion = useMotionPreference();\n    const playZoomAnimation = useEventCallback(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500 : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return React.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = useLightboxProps();\n    const onZoomCallback = useEventCallback(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    React.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = useLightboxProps();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = useLightboxState();\n    const { imageFit } = useLightboxProps().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if (isImageSlide(slide)) {\n            const cover = isImageFitCover(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max(round(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = React.useRef([]);\n    const lastPointerDown = React.useRef(0);\n    const pinchZoomDistance = React.useRef();\n    const { globalIndex } = useLightboxState();\n    const { containerRef, subscribeSensors } = useController();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = React.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = window;\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef]);\n    const onKeyDown = useEventCallback((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if (!((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(zoom * (1 + delta / pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = React.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    React.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    React.useEffect(() => {\n        if (!disabled) {\n            return cleanup(cleanupSensors, subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = React.useState(1);\n    const [offsetX, setOffsetX] = React.useState(0);\n    const [offsetY, setOffsetY] = React.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = useLightboxState();\n    const { containerRect, slideRect } = useController();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && isImageSlide(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    useLayoutEffect(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = React.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = React.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = round(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = useEventCallback(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    useLayoutEffect(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = React.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = React.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = React.createContext(null);\nconst useZoom = makeUseContext(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = React.useState();\n    const { slideRect } = useController();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = React.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    React.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = React.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return React.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    React.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = React.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = React.useRef(false);\n    const wasFocused = React.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = useLightboxProps();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    React.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (React.createElement(IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = React.useRef(null);\n    const zoomOutRef = React.useRef(null);\n    const { focus } = useController();\n    const focusSibling = React.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        React.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = useLightboxProps();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return React.createElement(React.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return React.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = React.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = isImageFitCover(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleResize = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    useLayoutEffect(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = useEventCallback((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: \"translateZ(0)\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = React.useState();\n    const zoomWrapperRef = React.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const { carousel, on } = useLightboxProps();\n    const { currentIndex } = useLightboxState();\n    useLayoutEffect(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && isImageSlide(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (React.createElement(ResponsiveImage, { ...slideProps, slide: slide, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (React.createElement(ImageSlide, { onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (React.createElement(\"div\", { ref: zoomWrapperRef, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: addToolbarButton(toolbar, PLUGIN_ZOOM, React.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return isImageSlide(props.slide) ? React.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\n\nexport { Zoom as default };\n","const MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SLIDE_STATUS_PLAYING, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus };\n"],"names":["randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","i","push","toString","slice","unsafeStringify","arr","offset","arguments","length","undefined","options","buf","native","rnds","random","cssPrefix$3","clsx","_len","classes","Array","_key","filter","Boolean","join","cssClass","name","concat","cssVar","composePrefix","base","prefix","makeComposePrefix","label","labels","defaultLabel","_a","cleanup","_len2","cleaners","_key2","forEach","cleaner","makeUseContext","contextName","context","ctx","React","hasWindow","window","round","value","factor","Math","Number","EPSILON","isImageSlide","slide","type","isImageFitCover","image","imageFit","IMAGE_FIT_COVER","IMAGE_FIT_CONTAIN","parseInt","parseLengthPercentage","input","pixel","endsWith","percent","computeSlideRect","containerRect","padding","paddingValue","paddingPixels","width","max","height","devicePixelRatio","getSlideIndex","index","slidesCount","hasSlides","slides","getSlide","getSlideIfPresent","getSlideKey","src","addToolbarButton","toolbar","key","button","buttons","restToolbar","findIndex","item","buttonWithKey","result","splice","LightboxDefaultProps","open","close","render","plugins","ACTION_CLOSE","animation","fade","swipe","easing","navigation","carousel","finite","preload","spacing","imageProps","controller","ref","focus","aria","touchAction","closeOnPullUp","closeOnPullDown","closeOnBackdropClick","preventDefaultWheelX","preventDefaultWheelY","portal","noScroll","disabled","on","styles","className","createModule","component","createNode","module","children","traverseNode","node","target","apply","flatMap","n","traverse","nodes","EventsContext","useEvents","EventsProvider","_ref","subscriptions","Object","keys","topic","unsubscribe","callback","cb","publish","_len3","_ref2","_key3","event","subscribe","Provider","LightboxPropsContext","useLightboxProps","LightboxPropsProvider","_ref3","props","LightboxStateContext","useLightboxState","LightboxDispatchContext","useLightboxDispatch","reducer","state","action","increment","globalIndex","currentIndex","currentSlide","duration","UNKNOWN_ACTION_TYPE","LightboxStateProvider","_ref4","dispatch","TimeoutsContext","useTimeouts","TimeoutsProvider","_ref5","timeouts","tid","clearTimeout","removeTimeout","id","setTimeout","fn","delay","IconButton","_ref6","label$1","icon","Icon","renderIcon","onClick","style","rest","ELEMENT_BUTTON","ELEMENT_ICON","svgIcon","xmlns","viewBox","focusable","displayName","createIcon","glyph","fill","d","createIconDisabled","stroke","strokeWidth","mask","CloseIcon","PreviousIcon","NextIcon","LoadingIcon","from","map","_","array","x1","y1","x2","y2","strokeLinecap","strokeOpacity","transform","ErrorIcon","useLayoutEffect","useMotionPreference","reduceMotion","setReduceMotion","_b","mediaQuery","matchMedia","call","matches","listener","addEventListener","removeEventListener","useAnimation","nodeRef","computeAnimation","snapshot","_c","current","keyframes","onfinish","getBoundingClientRect","x","y","z","matcher","getComputedStyle","match","values","split","currentTransformation","cancel","animate","err","console","error","prepareAnimation","currentSnapshot","isAnimationPlaying","playState","useContainerRect","containerRef","observerRef","setContainerRect","setContainerRef","disconnect","updateContainerRect","parse","parseFloat","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","ResizeObserver","observe","useDelay","timeoutId","useEventCallback","_len4","args","_key4","setRef","useForkRef","refA","refB","refValue","useLoseFocus","focused","onFocus","onBlur","useRTL","isRTL","setIsRTL","document","documentElement","direction","useThrottle","lastCallbackTime","delayCallback","executeCallback","Date","now","_len5","_key5","_len6","_key6","slidePrefix","slideImagePrefix","ImageSlide","_ref7","rect","onLoad","_d","_e","_f","_g","status","setStatus","SLIDE_STATUS_LOADING","imageRef","activeSlideStatus","handleLoading","img","decode","Promise","resolve","catch","then","parentNode","SLIDE_STATUS_COMPLETE","setImageRef","complete","handleOnLoad","currentTarget","onError","SLIDE_STATUS_ERROR","cover","nonInfinite","fallback","isFinite","maxWidth","srcSet","naturalWidth","maxHeight","naturalHeight","defaultStyle","sort","a","b","sizes","min","MAX_VALUE","imagePropsStyle","imagePropsClassName","restImageProps","draggable","alt","SLIDE_STATUS_PLACEHOLDER","iconLoading","iconError","SwipeState","Gesture","usePointerEvents","subscribeSensors","onPointerDown","onPointerMove","onPointerUp","EVENT_ON_POINTER_DOWN","EVENT_ON_POINTER_MOVE","EVENT_ON_POINTER_UP","EVENT_ON_POINTER_LEAVE","EVENT_ON_POINTER_CANCEL","SWIPE_THRESHOLD","cssContainerPrefix","ControllerContext","useController","ControllerModule","MODULE_CONTROLLER","_ref9","toolbarWidth","setToolbarWidth","swipeState","setSwipeState","NONE","swipeOffset","pullOffset","pullOpacity","registerSensors","subscribers","notifySubscribers","isPropagationStopped","onPointerLeave","onPointerCancel","onKeyDown","EVENT_ON_KEY_DOWN","onKeyUp","EVENT_ON_KEY_UP","onWheel","EVENT_ON_WHEEL","unshift","listeners","el","useSensors","cleanupAnimationIncrement","cleanupSwipeOffset","cleanupPullOffset","handleContainerRef","_ref8","horizontal","abs","deltaX","deltaY","ctrlKey","preventDefault","passive","usePreventWheelDefaults","carouselRef","setCarouselRef","rtl","getLightboxProps","getLightboxState","prev","params","ACTION_PREV","next","ACTION_NEXT","isSwipeValid","setSwipeOffset","setProperty","setPullOffset","offsetValue","preparePullAnimation","translate","opacity","pull","ANIMATION","parsedSpacing","spacingValue","currentSwipeOffset","swipeDuration","swipeEasing","count","newSwipeState","newSwipeAnimationDuration","containerWidth","elapsedTime","expectedTime","ACTION_SWIPE","swipeParams","SWIPE","pullParams","PULL","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","pullUpEnabled","pullDownEnabled","onPullStart","onPullProgress","onPullFinish","onPullCancel","pointers","activePointer","startTime","gesture","clearPointer","pointerId","currentPointers","p","addPointer","persist","exceedsPullThreshold","threshold","find","currentOffset","pointer","isCurrentPointer","clientX","clientY","startGesture","newGesture","usePointerSwipe","intent","intentCleanup","resetCleanup","wheelResidualMomentum","cancelSwipeIntentCleanup","cancelSwipeResetCleanup","handleCleanup","handleCancelSwipe","currentSwipeIntent","newSwipeOffset","sign","useWheelSwipe","focusOnMount","querySelector","MODULE_PORTAL","onViewCallback","view","slideRect","CLASS_FLEX_CENTER","container","role","tabIndex","controls","cssPrefix$2","MODULE_CAROUSEL","cssSlidePrefix","CarouselSlide","_ref10","click","HTMLElement","classList","contains","CLASS_SLIDE_WRAPPER","renderSlide","rendered","slideHeader","slideContainer","_ref11","slideFooter","Placeholder","CarouselModule","_ref12","minimum","floor","calculatePreload","items","placeholder","_ref13","useNavigationState","prevDisabled","nextDisabled","NavigationButton","_ref14","NavigationModule","MODULE_NAVIGATION","_ref15","buttonPrev","buttonNext","iconPrev","iconNext","throttle","handleKeyDown","VK_ESCAPE","VK_ARROW_LEFT","VK_ARROW_RIGHT","useKeyboardNavigation","navigationPrev","navigationNext","CLASS_NO_SCROLL","noScrollPadding","CLASS_NO_SCROLL_PADDING","isHTMLElement","element","padScrollbar","property","computedValue","originalValue","getPropertyValue","removeProperty","NoScrollModule","MODULE_NO_SCROLL","_ref16","body","scrollbar","innerWidth","elements","getElementsByTagName","add","remove","clean","cssPrefix$1","setAttribute","attribute","previousValue","getAttribute","removeAttribute","PortalModule","_ref17","mounted","setMounted","visible","setVisible","restoreFocus","animationDuration","handleClose","exiting","exited","handleEnter","scrollTop","entering","indexOf","tagName","entered","handleRef","createPortal","root","relatedTarget","RootModule","MODULE_ROOT","_ref18","ToolbarModule","MODULE_TOOLBAR","_ref19","buttonClose","iconClose","renderNode","child","mergeAnimation","defaultAnimation","defaultAnimationEasing","restDefaultAnimation","restAnimation","Lightbox","_ref20","restProps","defaultCarousel","defaultRender","defaultToolbar","defaultController","defaultNoScroll","defaultOn","defaultSlides","defaultIndex","defaultPlugins","restDefaultProps","config","augmentation","augmentations","pop","addParent","append","addChild","precede","addSibling","addModule","replace","augment","plugin","reduce","acc","withPlugins","cssPrefix","defaultCaptionsProps","descriptionTextAlign","descriptionMaxLines","showToggle","resolveCaptionsProps","captions","CaptionsContext","useCaptions","CaptionsContextProvider","show","hide","Title","title","captionsTitleContainer","captionsTitle","Description","description","useCaptionsProps","captionsDescriptionContainer","captionsDescription","line","captionsIcon","strokeLinejoin","CaptionsVisible","CaptionsHidden","CaptionsButton","buttonCaptions","iconCaptionsVisible","iconCaptionsHidden","Captions","captionsProps","renderFooter","restRender","PLUGIN_CAPTIONS","defaultFullscreenProps","auto","resolveFullscreenProps","fullscreen","FullscreenContext","useFullscreen","FullscreenContextProvider","fullscreenProps","setDisabled","setFullscreen","wasFullscreen","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","getFullscreenElement","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","enter","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exit","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","events","fullscreenChangeListener","onEnterFullscreen","enterFullscreen","onExitFullscreen","handleAutoFullscreen","PLUGIN_FULLSCREEN","CLASS_FULLSIZE","EnterFullscreenIcon","ExitFullscreenIcon","FullscreenButton","buttonFullscreen","iconExitFullscreen","iconEnterFullscreen","Fullscreen","PLUGIN_THUMBNAILS","defaultSlideshowProps","autoplay","resolveSlideshowProps","slideshow","SlideshowContext","useSlideshow","SlideshowContextProvider","wasPlaying","playing","setPlaying","scheduler","slideStatus","play","pause","cancelScheduler","scheduleNextSlide","SLIDE_STATUS_PLAYING","onSlideshowStart","slideshowStart","onSlideshowStop","slideshowStop","ACTIVE_SLIDE_LOADING","ACTIVE_SLIDE_PLAYING","ACTIVE_SLIDE_ERROR","ACTIVE_SLIDE_COMPLETE","PlayIcon","PauseIcon","SlideshowButton","focusListeners","buttonSlideshow","iconSlideshowPause","iconSlideshowPlay","Slideshow","PLUGIN_SLIDESHOW","defaultVideoProps","playsInline","resolveVideoProps","video","VideoSlide","useVideoProps","videoRef","paused","autoPlay","handleVideoRef","setVideoRef","poster","sources","resolveBoolean","attr","resolveString","scaleWidthAndHeight","scalingProps","widthBound","elementWidth","elementHeight","onPlay","onEnded","Video","isVideoSlide","source","defaultZoomProps","maxZoomPixelRatio","zoomInMultiplier","doubleTapDelay","doubleClickDelay","doubleClickMaxStops","keyboardMoveDistance","wheelZoomDistanceFactor","pinchZoomDistanceFactor","scrollToZoom","resolveZoomProps","zoom","useZoomProps","distance","pointerA","pointerB","useZoomState","imageRect","maxZoom","zoomWrapperRef","setZoom","offsetX","setOffsetX","offsetY","setOffsetY","zoomAnimation","zoomAnimationStart","zoomAnimationDuration","playZoomAnimation","useZoomAnimation","currentSource","changeOffsets","dx","dy","targetZoom","newZoom","newOffsetX","newOffsetY","maxOffsetX","maxOffsetY","changeZoom","rapid","handleControllerRectChange","zoomIn","zoomOut","ZoomControllerContext","useZoom","ZoomContextProvider","zoomWrapper","setZoomWrapper","imageDimensions","maxImageRect","useZoomImageRect","onZoomCallback","useZoomCallback","activePointers","lastPointerDown","pinchZoomDistance","translateCoordinates","pageX","pageY","scrollX","scrollY","left","top","stopPropagation","move","handleChangeZoom","zoomValue","hasMeta","getModifierState","replacePointer","timeStamp","pointerType","currentDistance","delta","coordinate","cleanupSensors","useZoomSensors","zoomRef","ZoomInIcon","ZoomOutIcon","ZoomButton","onLoseFocus","wasEnabled","wasFocused","zoomInCallback","zoomOutCallback","zoomDisabled","iconZoomIn","iconZoomOut","ZoomButtonsGroup","zoomInRef","zoomOutRef","focusSibling","sibling","focusZoomIn","focusZoomOut","ZoomToolbarControl","buttonZoom","ResponsiveImage","targetWidth","pixelDensity","handleResize","targetSource","handlePreload","currentPreload","WebkitTransform","assign","position","visibility","ZoomWrapper","setImageDimensions","slideProps","isResponsiveImageSlide","Zoom","zoomProps","PLUGIN_ZOOM"],"sourceRoot":""}