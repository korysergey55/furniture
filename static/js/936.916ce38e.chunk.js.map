{"version":3,"file":"static/js/936.916ce38e.chunk.js","mappings":"iJACA,QAAkC,gCAAlC,EAA8E,0BAA9E,EAAgH,sBAAhH,EAAoJ,4BAApJ,EAA8L,4BAA9L,EAAuO,2BAAvO,EAA0Q,sB,gECQ1Q,MAYaA,GAAMC,EAAAA,EAAAA,IAZI,CACrBC,OAAQ,0CACRC,WAAY,mCACZC,YAAa,0EACbC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,cACnBC,MAAO,2CACPC,cAAe,iBAMJC,IADYC,EAAAA,EAAAA,IAAaX,IACfY,EAAAA,EAAAA,IAAWZ,I,2FCHlC,MAsEA,GAtEuBa,EAAAA,EAAAA,KAAS,KAC9B,MAAM,mBAAEC,IAAuBC,EAAAA,EAAAA,MACzB,eAAEC,IAAmBC,EAAAA,EAAAA,OAEpBC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,CAAC,IACjCC,EAAOC,IAAYF,EAAAA,EAAAA,WAAU,IAC7BG,EAAeC,IAAoBJ,EAAAA,EAAAA,UAAS,IAsCnD,OAZAK,EAAAA,EAAAA,YAAU,KACJX,GACFK,GAAWO,EAAAA,EAAAA,IAAKV,EAAeW,WAAWb,IAC5C,GACC,CAACA,KAEJW,EAAAA,EAAAA,YAAU,KACJX,GA/BqBc,WACzB,MAAMC,GAAUC,EAAAA,EAAAA,IAAIpB,EAAQ,qCAADqB,OAAuCjB,KAClEkB,EAAAA,EAAAA,IAAQH,GACLI,MAAKC,IACJA,EAAIC,SAASC,SAAQC,QAIrBH,EAAII,MAAMF,SAAQG,KAEhBC,EAAAA,EAAAA,KAAeV,EAAAA,EAAAA,IAAIpB,EAAS6B,EAAQE,UAAUC,QAC3CT,MAAKU,IACJnB,GAAiBoB,GAAQ,IAAIA,EAAM,CAAEC,IAAKF,KAAO,IAElDG,OAAMC,IACL,MAAM,IAAIC,MAAMD,EAAM,GACtB,GACJ,IAEHD,OAAMC,IACL,MAAM,IAAIC,MAAMD,EAAM,GACtB,EAWFE,EACF,GACC,KAGDC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAuBC,SAAA,EACrCH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAiBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAaC,SAAS,OAAPnC,QAAO,IAAPA,OAAO,EAAPA,EAASqC,eACvCD,EAAAA,EAAAA,KAAA,KAAGH,UAAWC,EAAmBC,SAAS,OAAPnC,QAAO,IAAPA,OAAO,EAAPA,EAASsC,SAC5CF,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAmBC,SAC/B9B,EAAckC,OAAS,GACtBlC,EAAcmC,KAAI,CAACC,EAAMtC,KACvBiC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAkCQ,QAASA,IAAMtC,EAASD,GAAOgC,UAC9EC,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAcP,IAAKc,EAAKd,IAAKgB,IAAK3C,EAAQqC,YAAc,YADnCO,EAAAA,EAAAA,cAO/CR,EAAAA,EAAAA,KAACS,EAAAA,GAAQ,CACP1C,MAAOA,EACP2C,KAAM3C,GAAS,EACf4C,MAAOA,IAAM3C,GAAU,GACvB4C,OAAQ,IAAI3C,GACZ4C,QAAS,CAACC,EAAAA,EAAUC,EAAAA,EAAYC,EAAAA,EAAWC,EAAAA,EAAOC,EAAAA,OAEhD,G","sources":["webpack://furniture/./src/Pages/ProductDetails/styles.module.scss?9268","Firabase/firabase.js","Pages/ProductDetails/ProductDetails.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"product_details\":\"styles_product_details__XOg8A\",\"container\":\"styles_container__XBr0L\",\"title\":\"styles_title__Un5DH\",\"discription\":\"styles_discription__n+9so\",\"images_list\":\"styles_images_list__wyhRF\",\"image_item\":\"styles_image_item__g53oB\",\"image\":\"styles_image__CRDKt\"};","import { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD-jNjtGR87RAh2Jn1Rz6UzhFiGrKyWDNc\",\r\n  authDomain: \"vitaly-furniture.firebaseapp.com\",\r\n  databaseURL: \"https://vitaly-furniture-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"vitaly-furniture\",\r\n  storageBucket: \"vitaly-furniture.appspot.com\",\r\n  messagingSenderId: \"46098105184\",\r\n  appId: \"1:46098105184:web:241aa05c7ee597a6711405\",\r\n  measurementId: \"G-2KSLJG8EDF\"\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const analytics = getAnalytics(app);\r\nexport const storage = getStorage(app);","import React, { useEffect, useState } from 'react'\r\nimport styles from './styles.module.scss'\r\n\r\nimport { observer } from 'mobx-react';\r\nimport { useStore } from '../../storeMobx';\r\nimport { toJS } from 'mobx';\r\n\r\nimport { ref, getDownloadURL, listAll } from 'firebase/storage';\r\nimport { storage } from '../../Firabase/firabase';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport Lightbox from 'yet-another-react-lightbox';\r\nimport Captions from 'yet-another-react-lightbox/plugins/captions';\r\nimport Fullscreen from 'yet-another-react-lightbox/plugins/fullscreen';\r\nimport Slideshow from 'yet-another-react-lightbox/plugins/slideshow';\r\nimport Video from 'yet-another-react-lightbox/plugins/video';\r\nimport Zoom from 'yet-another-react-lightbox/plugins/zoom';\r\n\r\nconst ProductDetails = observer(() => {\r\n  const { productDetailsName } = useParams();\r\n  const { PartfolioStore } = useStore();\r\n\r\n  const [product, setProduct] = useState({});\r\n  const [index, setIndex] = useState(-1);\r\n  const [storageImages, setStorageImages] = useState([]);\r\n\r\n  const getFirestoreImages = async () => {\r\n    const listRef = ref(storage, `gs://vitaly-furniture.appspot.com/${productDetailsName}`);\r\n    listAll(listRef)\r\n      .then(res => {\r\n        res.prefixes.forEach(folderRef => {\r\n          // All the prefixes under listRef.\r\n          // You may call listAll() recursively on them.\r\n        });\r\n        res.items.forEach(itemRef => {\r\n          // All the items under listRef.\r\n          getDownloadURL(ref(storage, itemRef._location.path_))\r\n            .then(url => {\r\n              setStorageImages(prev => [...prev, { src: url }]);\r\n            })\r\n            .catch(error => {\r\n              throw new Error(error);\r\n            });\r\n        });\r\n      })\r\n      .catch(error => {\r\n        throw new Error(error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (productDetailsName) {\r\n      setProduct(toJS(PartfolioStore.getProduct(productDetailsName)));\r\n    }\r\n  }, [productDetailsName]);\r\n\r\n  useEffect(() => {\r\n    if (productDetailsName) {\r\n      getFirestoreImages();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.product_details}>\r\n      <div className={styles.container}>\r\n        <h2 className={styles.title}>{product?.productName}</h2>\r\n        <p className={styles.discription}>{product?.title}</p>\r\n        <ul className={styles.images_list}>\r\n          {storageImages.length > 0 &&\r\n            storageImages.map((item, index) => (\r\n              <li className={styles.image_item} key={uuidv4()} onClick={() => setIndex(index)}>\r\n                <img className={styles.image} src={item.src} alt={product.productName + 'image'} />\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </div>\r\n\r\n      <Lightbox\r\n        index={index}\r\n        open={index >= 0}\r\n        close={() => setIndex(-1)}\r\n        slides={[...storageImages]}\r\n        plugins={[Captions, Fullscreen, Slideshow, Video, Zoom]}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ProductDetails;"],"names":["app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getAnalytics","getStorage","observer","productDetailsName","useParams","PartfolioStore","useStore","product","setProduct","useState","index","setIndex","storageImages","setStorageImages","useEffect","toJS","getProduct","async","listRef","ref","concat","listAll","then","res","prefixes","forEach","folderRef","items","itemRef","getDownloadURL","_location","path_","url","prev","src","catch","error","Error","getFirestoreImages","_jsxs","className","styles","children","_jsx","productName","title","length","map","item","onClick","alt","uuidv4","Lightbox","open","close","slides","plugins","Captions","Fullscreen","Slideshow","Video","Zoom"],"sourceRoot":""}